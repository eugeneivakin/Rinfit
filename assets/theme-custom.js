function clearSizeSelectionAndDisableBuyBtn(){if(!new URLSearchParams(window.location.search).has("variant")){document.querySelectorAll('.product-info .variant-picker__option[data-option-type="size"] input[type="radio"][checked]').forEach(function(e){e.removeAttribute("checked")}),document.querySelectorAll('.product-info .variant-picker__option[data-option-type="size"] .variant-picker__selected-variant').forEach(function(e){e.textContent=""});var e=document.querySelector('.product-info .buy-buttons button[type="submit"]');e&&(e.disabled=!0,e.innerHTML=window.themeStrings.addedToCartDisabled,e.classList.add("buy-button--disabled"))}}class SizeCalculator extends HTMLElement{constructor(){super()}connectedCallback(){const e=()=>{const t=this.querySelector("button.button"),a=this.querySelector("[data-unit]"),i=this.querySelector("[data-type]"),n=this.querySelector("[data-value]"),r=this.querySelector("[data-result]");t&&a&&i&&n&&r?t.addEventListener("click",e=>{e.preventDefault(),this.calculateSize()}):setTimeout(e,100)};e()}calculateSize(){const e=this.querySelector("[data-unit]"),t=this.querySelector("[data-type]"),a=this.querySelector("[data-value]"),i=this.querySelector("[data-result]");if(!(e&&t&&a&&i))return;const n=e.value,r=t.value,o=parseFloat(a.value);if(isNaN(o))return void(i.textContent="Please enter a number.");const c="diameter"===r?"mm"===n?"dia_mm":"dia_in":"mm"===n?"cir_mm":"cir_in";let l=null,s=1/0;(window.ringData||[]).forEach(e=>{const t=Math.abs(e[c]-o);t<s&&(s=t,l=e)}),i.innerHTML=l?`\n        <h3>${window.themeStrings.sizeCalculatorHeading}: ${l.size}</h3>\n        <p>${window.themeStrings.sizeCalculatorMeasurementType1}: ${l.dia_mm} mm (${l.dia_in} inches)</p>\n        <p>${window.themeStrings.sizeCalculatorMeasurementType2}: ${l.cir_mm} mm (${l.cir_in} inches)</p>\n      `:"\n        <p>Size not found, please check the size chart and try again.</p>\n      "}}window.customElements.get("size-calculator")||customElements.define("size-calculator",SizeCalculator);