document.addEventListener("DOMContentLoaded",function(){function t(t,e){if(!t)return t;const o=t.startsWith("//")?window.location.protocol:"";try{const c=new URL(t,o+window.location.origin),n=c.pathname.split("/");return n.length&&(n[n.length-1]=e),c.pathname=n.join("/"),c.toString()}catch(o){return t.replace(/\/[^\/\?]+(?=(\?|$))/,"/"+e)}}function e(e,o){if(!e||!o)return;const c=e.querySelector(".product-card__image--primary");if(c){if(c.src){const e=t(c.src,o);c.src=e}if(c.srcset){const e=c.srcset.split(",").map(t=>t.trim()).map(e=>{const[c,n]=e.split(/\s+/,2),r=t(c,o);return n?`${r} ${n}`:r});c.srcset=e.join(", ")}}}document.addEventListener("click",function(t){const o=t.target,c=o.closest("label.color-swatch");if(c){const t=c.querySelector("img[data-file-name]");if(t&&t.dataset.fileName){const o=t.dataset.fileName;e(c.closest("product-card, .product-card"),o)}return}const n=o.closest("button.color-swatch--show-more");n&&n.classList.toggle("active")},!1),document.addEventListener("change",function(t){const o=t.target;if(o&&o.matches&&o.matches('input[type="radio"][data-option-position]')){const t=document.querySelector(`label[for="${o.id}"]`);if(t){const c=t.querySelector("img[data-file-name]");if(c&&c.dataset.fileName){const t=c.dataset.fileName;e(o.closest("product-card, .product-card"),t)}}}},!1)});