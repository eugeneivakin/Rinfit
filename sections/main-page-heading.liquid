{% style %}
  #shopify-section-{{ section.id }} .color-scheme--custom {
    --text-color: {{ section.settings.color_text.rgb }};
    --background: {{ section.settings.color_background.rgb }} / 1.0;
  }
{% endstyle %}

{{- 'main-page-heading.css' | asset_url | stylesheet_tag -}}

<div class="section-spacing">
  <div class="color-scheme color-scheme--{{ section.settings.color_scheme.id }}">
    {% if section.settings.heading != blank %}
      <div class="color-scheme color-scheme--custom">
        <div class="container">
          <div class="page-heading v-stack py-2">
            <h1 class="h1">
              {{ section.settings.heading | downcase }}
            </h1>
          </div>
        </div>
      </div>
    {% endif %}

    <div class="container section-content">
      {% if section.settings.subheading != blank %}
        <h2 class="h2">
          {{ section.settings.subheading | downcase }}
        </h2>
      {% endif %}

      {% if section.settings.content != blank %}
        <div class="prose">
          {{ section.settings.content }}
        </div>
      {% endif %}

      {% render 'video-section' %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Page Heading",
  "class": "shopify-section--main-page-heading",
  "tag": "section",
  "enabled_on": {
    "templates": ["page"]
  },
  "settings": [
    {
      "type": "header",
      "content": "Page heading colors"
    },
    {
      "type": "color",
      "id": "color_background",
      "label": "Background color",
      "default": "#E9E9E9"
    },
    {
      "type": "color",
      "id": "color_text",
      "label": "Text color",
      "default": "#807371"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:global.colors.scheme",
      "default": "scheme-1"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Heading",
      "default": "{{ page.title }}"
    },
    {
      "type": "inline_richtext",
      "id": "subheading",
      "label": "Subheading"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Content"
    },
    {
      "type": "header",
      "content": "Video"
    },
    {
      "type": "paragraph",
      "content": "t:sections.video.info"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "t:global.video.autoplay",
      "info": "t:global.video.autoplay_info",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_controls",
      "label": "t:global.video.show_controls",
      "default": true
    },
    {
      "type": "select",
      "id": "video_size",
      "label": "t:global.video.video_size",
      "info": "t:global.video.ratio_avoid_cropping_info",
      "options": [
        {
          "value": "auto",
          "label": "t:global.sizes.original_video_ratio"
        },
        {
          "value": "sm",
          "label": "t:global.sizes.small"
        },
        {
          "value": "md",
          "label": "t:global.sizes.medium"
        },
        {
          "value": "lg",
          "label": "t:global.sizes.large"
        },
        {
          "value": "fill",
          "label": "t:global.sizes.fit_screen"
        }
      ],
      "default": "md"
    },
    {
      "type": "video",
      "id": "video",
      "label": "t:global.video.video",
      "info": "t:global.video.video_info"
    },
    {
      "type": "video",
      "id": "mobile_video",
      "label": "t:global.video.mobile_video",
      "info": "t:global.video.video_info"
    },
    {
      "type": "video_url",
      "id": "external_video_url",
      "accept": ["vimeo", "youtube"],
      "label": "t:global.video.video_url",
      "default": "https://www.youtube.com/watch?v=_9VUPq3SxOc"
    },
    {
      "type": "image_picker",
      "id": "poster",
      "label": "t:sections.video.poster_image",
      "info": "t:sections.video.poster_image_info",
      "visible_if": "{{ section.settings.autoplay == false }}"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "t:global.colors.text",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "Page Heading",
      "category": "t:global.categories.banners"
    }
  ]
}
{% endschema %}
