<style>
  .video-ring-guide {
    background-color: #ffffff;
    font-family: 'Kumbh Sans', sans-serif;
  }
  @media (min-width: 768px) and (max-width: 1240px) {
    .video-ring-guide__header .video-ring-guide__text-wrapper{
      padding: 0;
    }
  }
  
  /* Desktop styles for 1440px */
  @media (min-width: 768px) {
    .video-ring-guide {
      padding: 14px 0;
    }
    
    .video-ring-guide__container {
      max-width: 1280px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 40px;
      align-items: center;
    }
    
    .video-ring-guide__header {
      display: flex;
      flex-direction: column;
      gap: 40px;
      align-items: center;
      width: 100%;
    }
    
    .video-ring-guide__text-wrapper {
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
      padding: 0 220px;
      width: 100%;
      box-sizing: border-box;
    }
    
    .video-ring-guide__title {
      text-align: center;
      color: #373a36;
      text-transform: capitalize;
      font-size: 46px;
      line-height: 44px;
      font-weight: 300;
    }
    
    .video-ring-guide__title-italic {
      font-family: 'Playfair Display', serif;
      font-style: italic;
      font-weight: normal;
    }
    
    .video-ring-guide__description-wrapper {
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: center;
      padding: 0 100px;
      width: 100%;
      box-sizing: border-box;
    }
    
    .video-ring-guide__description {
      flex: 1;
      font-weight: normal;
      font-size: 14px;
      line-height: 20px;
      color: #373936;
      text-align: center;
    }
    
    .video-ring-guide__video-section {
      display: flex;
      flex-direction: column;
      gap: 38px;
      width: 100%;
    }
    
    .video-ring-guide__video-container {
      position: relative;
      width: 100%;
      height: 600px;
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
    }
    
    .video-ring-guide__video-bg {
      width: 100%;
      height: 100%;
      object-fit: cover;
      background: linear-gradient(180deg, rgba(0,0,0,0) 43.323%, rgba(0,0,0,0.235) 73%, rgba(0,0,0,0.8) 108.31%);
    }
    
    .video-ring-guide__play-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 54px;
      height: 54px;
      cursor: pointer;
      z-index: 2;
    }
    
    .video-ring-guide__play-icon {
      width: 100%;
      height: 100%;
    }

    /* Hide mobile title on desktop */
    .video-ring-guide__mobile-title {
      display: none;
    }
  }
  
  /* Mobile styles */
  @media (max-width: 767px) {
    .video-ring-guide {
      padding: 20px;
    }
    
    .video-ring-guide__container {
      display: flex;
      flex-direction: column;
      gap: 30px;
      align-items: center;
    }
    
    .video-ring-guide__header {
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
      width: 100%;
    }
    
    .video-ring-guide__text-wrapper {
      display: flex;
      flex-direction: column;
      gap: 15px;
      align-items: center;
      width: 100%;
    }
    
    .video-ring-guide__title {
      text-align: center;
      color: #373a36;
      text-transform: capitalize;
      font-size: 28px;
      line-height: 32px;
      font-weight: 300;
      /* Hide desktop title on mobile */
      display: none;
    }
    
    .video-ring-guide__title-italic {
      font-family: 'Playfair Display', serif;
      font-style: italic;
      font-weight: normal;
    }

    /* Mobile title styles */
    .video-ring-guide__mobile-title {
      text-align: center;
      color: #373a36;
      text-transform: capitalize;
      font-size: 28px;
      line-height: 32px;
      font-weight: 300;
      display: block;
    }

    .video-ring-guide__mobile-title-regular {
      display: block;
      margin-bottom: 5px;
      font-size: 20px;
    }

    .video-ring-guide__mobile-title-italic {
      font-family: 'Playfair Display', serif;
      font-style: italic;
      font-weight: normal;
      display: block;
      font-size: 46px;
    }
    
    .video-ring-guide__description-wrapper {
      width: 100%;
    }
    
    .video-ring-guide__description {
      font-weight: normal;
      font-size: 14px;
      line-height: 18px;
      color: #373936;
      text-align: left;
      width: 100%;
    }
    
    .video-ring-guide__video-section {
      display: flex;
      flex-direction: column;
      width: 100%;
    }
    
    .video-ring-guide__video-container {
      position: relative;
      width: 100%;
      height: 380px;
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
    }
    
    .video-ring-guide__video-bg {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .video-ring-guide__play-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 40px;
      height: 40px;
      cursor: pointer;
      z-index: 2;
    }
    
    .video-ring-guide__play-icon {
      width: 100%;
      height: 100%;
    }
  }
</style>

<section class="video-ring-guide">
  <div class="video-ring-guide__container">
    
    <!-- Заголовки та опис -->
    <div class="video-ring-guide__header">
      <div class="video-ring-guide__text-wrapper">
        <!-- Desktop title -->
        <h2 class="video-ring-guide__title">
          {% if section.settings.title_regular != blank %}
            {{ section.settings.title_regular }}
          {% endif %}
          {% if section.settings.title_italic != blank %}
            <span class="video-ring-guide__title-italic">{{ section.settings.title_italic }}</span>
          {% endif %}
        </h2>
        
        <!-- Mobile title -->
        <h2 class="video-ring-guide__mobile-title">
          {% if section.settings.mobile_title_regular != blank %}
            <span class="video-ring-guide__mobile-title-regular">{{ section.settings.mobile_title_regular }}</span>
          {% elsif section.settings.title_regular != blank %}
            <span class="video-ring-guide__mobile-title-regular">{{ section.settings.title_regular }}</span>
          {% endif %}
          {% if section.settings.mobile_title_italic != blank %}
            <span class="video-ring-guide__mobile-title-italic">{{ section.settings.mobile_title_italic }}</span>
          {% elsif section.settings.title_italic != blank %}
            <span class="video-ring-guide__mobile-title-italic">{{ section.settings.title_italic }}</span>
          {% endif %}
        </h2>
        
        {% if section.settings.description != blank %}
          <div class="video-ring-guide__description-wrapper">
            <p class="video-ring-guide__description">
              {{ section.settings.description }}
            </p>
          </div>
        {% endif %}
      </div>
    </div>
    
    <!-- Відео секція -->
    <div class="video-ring-guide__video-section">
      {% if section.settings.video_image != blank %}
        <div class="video-ring-guide__video-container" data-video-url="{{ section.settings.video_url }}">
          <img 
            src="{{ section.settings.video_image | image_url: width: 1440 }}"
            alt="{{ section.settings.video_alt | default: 'Ring Size Guide Video' | escape }}"
            class="video-ring-guide__video-bg"
            loading="lazy"
          >
          
          {% if section.settings.play_icon != blank %}
            <div class="video-ring-guide__play-button">
              <img 
                src="{{ section.settings.play_icon | image_url }}"
                alt="Play video"
                class="video-ring-guide__play-icon"
              >
            </div>
          {% else %}
            <div class="video-ring-guide__play-button">
              <svg class="video-ring-guide__play-icon" viewBox="0 0 54 54" fill="none">
                <circle cx="27" cy="27" r="27" fill="white" fill-opacity="0.9"/>
                <path d="M22 18L35 27L22 36V18Z" fill="#373a36"/>
              </svg>
            </div>
          {% endif %}
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% if section.settings.video_url != blank %}
<script>
document.addEventListener("DOMContentLoaded", function() {
  const videoContainers = document.querySelectorAll('.video-ring-guide__video-container');

  videoContainers.forEach(container => {
    const videoUrl = container.dataset.videoUrl;
    if (!videoUrl) return;

    container.addEventListener('click', function() {
      const videoIdMatch = videoUrl.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]+)/);
      if (!videoIdMatch) return;
      const videoId = videoIdMatch[1];

      container.innerHTML = `
        <iframe 
          width="100%" 
          height="100%" 
          src="https://www.youtube.com/embed/${videoId}?autoplay=1" 
          title="YouTube video player" 
          frameborder="0" 
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          allowfullscreen>
        </iframe>
      `;
    });
  });
});

</script>


{% endif %}

{% schema %}
{
  "name": "Video Ring Size Guide",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "header",
      "content": "Desktop Title"
    },
    {
      "type": "text",
      "id": "title_regular",
      "label": "Regular title text (Desktop)",
      "default": "Easy Ways"
    },
    {
      "type": "text",
      "id": "title_italic",
      "label": "Italic title text (Desktop)",
      "default": "To Measure Your Ring Size"
    },
    {
      "type": "header",
      "content": "Mobile Title"
    },
    {
      "type": "text",
      "id": "mobile_title_regular",
      "label": "Regular title text (Mobile)",
      "info": "Leave empty to use desktop version"
    },
    {
      "type": "text",
      "id": "mobile_title_italic",
      "label": "Italic title text (Mobile)",
      "info": "Leave empty to use desktop version. Will appear on new line below regular text."
    },
    {
      "type": "header",
      "content": "Description"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description text",
      "default": "Not sure where to start? Watch our quick video guide to learn how to measure your finger at home using simple tools. It's the easiest way to find your perfect fit before you order!"
    },
    {
      "type": "header",
      "content": "Video Settings"
    },
    {
      "type": "image_picker",
      "id": "video_image",
      "label": "Video thumbnail image"
    },
    {
      "type": "url",
      "id": "video_url",
      "label": "Video URL",
      "info": "Enter YouTube, Vimeo or other video URL"
    },
    {
      "type": "image_picker",
      "id": "play_icon",
      "label": "Custom play icon (optional)",
      "info": "Leave empty to use default play button"
    },
    {
      "type": "text",
      "id": "video_alt",
      "label": "Video alt text",
      "default": "Ring Size Guide Video"
    }
  ],
  "presets": [
    {
      "name": "Video Ring Size Guide"
    }
  ]
}
{% endschema %}